-- 创建进厂原矿测试数据
-- 用于测试进厂原矿详情页面功能

-- 插入富鼎翔进厂原矿测试数据
INSERT INTO "进厂原矿-FDX" (
    "计量日期", 
    "进厂湿重", 
    "水份(%)", 
    "Pb", 
    "Zn",
    "供应商",
    "原矿类型",
    "created_at",
    "updated_at"
) VALUES 
-- 最近7天的数据
('2024-12-28', 1250.5, 8.2, 3.5, 12.8, '富鼎翔矿业', '铅锌矿', NOW(), NOW()),
('2024-12-29', 1180.3, 7.8, 3.2, 13.1, '富鼎翔矿业', '铅锌矿', NOW(), NOW()),
('2024-12-30', 1320.7, 8.5, 3.8, 12.5, '富鼎翔矿业', '铅锌矿', NOW(), NOW()),
('2024-12-31', 1290.2, 8.1, 3.6, 12.9, '富鼎翔矿业', '铅锌矿', NOW(), NOW()),
('2025-01-01', 1350.8, 7.9, 3.7, 13.2, '富鼎翔矿业', '铅锌矿', NOW(), NOW()),
('2025-01-02', 1280.4, 8.3, 3.4, 12.7, '富鼎翔矿业', '铅锌矿', NOW(), NOW()),
('2025-01-03', 1410.6, 8.0, 3.9, 13.0, '富鼎翔矿业', '铅锌矿', NOW(), NOW())
ON CONFLICT ("计量日期") DO UPDATE SET
    "进厂湿重" = EXCLUDED."进厂湿重",
    "水份(%)" = EXCLUDED."水份(%)",
    "Pb" = EXCLUDED."Pb",
    "Zn" = EXCLUDED."Zn",
    "updated_at" = NOW();

-- 插入金鼎锌业进厂原矿测试数据
INSERT INTO "进厂原矿-JDXY" (
    "计量日期", 
    "进厂湿重", 
    "水份(%)", 
    "Pb", 
    "Zn",
    "供应商",
    "原矿类型",
    "created_at",
    "updated_at"
) VALUES 
-- 最近7天的数据
('2024-12-28', 2150.8, 9.1, 2.8, 11.5, '金鼎锌业', '锌矿', NOW(), NOW()),
('2024-12-29', 2080.5, 8.7, 2.6, 11.8, '金鼎锌业', '锌矿', NOW(), NOW()),
('2024-12-30', 2220.3, 9.3, 3.0, 11.2, '金鼎锌业', '锌矿', NOW(), NOW()),
('2024-12-31', 2190.7, 8.9, 2.9, 11.6, '金鼎锌业', '锌矿', NOW(), NOW()),
('2025-01-01', 2250.4, 8.8, 3.1, 11.9, '金鼎锌业', '锌矿', NOW(), NOW()),
('2025-01-02', 2180.6, 9.0, 2.7, 11.4, '金鼎锌业', '锌矿', NOW(), NOW()),
('2025-01-03', 2310.2, 8.6, 3.2, 12.0, '金鼎锌业', '锌矿', NOW(), NOW())
ON CONFLICT ("计量日期") DO UPDATE SET
    "进厂湿重" = EXCLUDED."进厂湿重",
    "水份(%)" = EXCLUDED."水份(%)",
    "Pb" = EXCLUDED."Pb",
    "Zn" = EXCLUDED."Zn",
    "updated_at" = NOW();

-- 验证数据插入
SELECT '富鼎翔进厂原矿数据' as "数据源", COUNT(*) as "记录数" FROM "进厂原矿-FDX"
UNION ALL
SELECT '金鼎进厂原矿数据' as "数据源", COUNT(*) as "记录数" FROM "进厂原矿-JDXY";

-- 显示最新的几条记录
SELECT 
    '富鼎翔' as "数据源",
    "计量日期",
    "进厂湿重",
    "水份(%)",
    "Pb",
    "Zn"
FROM "进厂原矿-FDX" 
ORDER BY "计量日期" DESC 
LIMIT 3

UNION ALL

SELECT 
    '金鼎' as "数据源",
    "计量日期",
    "进厂湿重",
    "水份(%)",
    "Pb",
    "Zn"
FROM "进厂原矿-JDXY" 
ORDER BY "计量日期" DESC 
LIMIT 3

ORDER BY "计量日期" DESC;
